import{m as g,e as y,p as v}from"./index-C0y_TPRc.js";import{v as b,S as k,w as u}from"./index-DIG3eiPR.js";const x=["pre","script","style","textarea"],N={};function w(r,t){const p=t||N,a={blanks:p.blanks||[],head:!1,indentInitial:p.indentInitial!==!1,indent:typeof p.indent=="number"?" ".repeat(p.indent):typeof p.indent=="string"?p.indent:"  "};g(r,{newlines:!0}),b(r,d);function d(e,f){if(!("children"in e))return;if(e.type==="element"&&e.tagName==="head"&&(a.head=!0),a.head&&e.type==="element"&&e.tagName==="body"&&(a.head=!1),e.type==="element"&&x.includes(e.tagName))return k;if(e.children.length===0||!h(a,e))return;let c=f.length;a.indentInitial||c--;let n=!1;for(const l of e.children)(l.type==="comment"||l.type==="text")&&(l.value.includes(`
`)&&(n=!0),l.value=l.value.replace(/ *\n/g,"$&"+a.indent.repeat(c)));const s=[];let i;for(const l of e.children)(h(a,l)||n&&!i)&&(m(s,c,l),n=!0),i=l,s.push(l);i&&(n||h(a,i))&&(u(i)&&(s.pop(),i=s[s.length-1]),m(s,c-1)),e.children=s}function m(e,f,c){const n=e[e.length-1],s=n&&u(n)?e[e.length-2]:n,i=(o(a,s)&&o(a,c)?`

`:`
`)+a.indent.repeat(Math.max(f,0));n&&n.type==="text"?n.value=u(n)?i:n.value+i:e.push({type:"text",value:i})}}function o(r,t){return!!(t&&t.type==="element"&&r.blanks.length>0&&r.blanks.includes(t.tagName))}function h(r,t){return t.type==="root"||(t.type==="element"?r.head||t.tagName==="script"||y(t)||!v(t):!1)}function B(r){return function(t){w(t,r)}}export{B as default};
