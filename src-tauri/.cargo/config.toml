[env]
MACOSX_DEPLOYMENT_TARGET = "14.0"

# Fix for Swift runtime library linking (screencapturekit crate)
# This ensures libswift_Concurrency.dylib and other Swift libs are found
[target.aarch64-apple-darwin]
rustflags = [
    "-L", "/usr/lib/swift",
    "-C", "link-arg=-Wl,-rpath,/usr/lib/swift",
]

[target.x86_64-apple-darwin]
rustflags = [
    "-L", "/usr/lib/swift",
    "-C", "link-arg=-Wl,-rpath,/usr/lib/swift",
]
